{"ast":null,"code":"import { __classPrivateFieldGet, __classPrivateFieldSet } from \"tslib\";\nimport { extractAuthor } from './util.js';\nfunction mapExtrinsics(extrinsics, records) {\n  return extrinsics.map((extrinsic, index) => {\n    let dispatchError;\n    let dispatchInfo;\n    const events = records.filter(_ref => {\n      let {\n        phase\n      } = _ref;\n      return phase.isApplyExtrinsic && phase.asApplyExtrinsic.eq(index);\n    }).map(_ref2 => {\n      let {\n        event\n      } = _ref2;\n      if (event.section === 'system') {\n        if (event.method === 'ExtrinsicSuccess') {\n          dispatchInfo = event.data[0];\n        } else if (event.method === 'ExtrinsicFailed') {\n          dispatchError = event.data[0];\n          dispatchInfo = event.data[1];\n        }\n      }\n      return event;\n    });\n    return {\n      dispatchError,\n      dispatchInfo,\n      events,\n      extrinsic\n    };\n  });\n}\nexport function createSignedBlockExtended(registry, block, events, validators, author) {\n  var _Implementation_author, _Implementation_events, _Implementation_extrinsics;\n  // an instance of the base extrinsic for us to extend\n  const SignedBlockBase = registry.createClass('SignedBlock');\n  class Implementation extends SignedBlockBase {\n    constructor(registry, block, events, validators, author) {\n      super(registry, block);\n      _Implementation_author.set(this, void 0);\n      _Implementation_events.set(this, void 0);\n      _Implementation_extrinsics.set(this, void 0);\n      __classPrivateFieldSet(this, _Implementation_author, author || extractAuthor(this.block.header.digest, validators || []), \"f\");\n      __classPrivateFieldSet(this, _Implementation_events, events || [], \"f\");\n      __classPrivateFieldSet(this, _Implementation_extrinsics, mapExtrinsics(this.block.extrinsics, __classPrivateFieldGet(this, _Implementation_events, \"f\")), \"f\");\n      this.createdAtHash = block?.createdAtHash;\n    }\n    /**\n     * @description Convenience method, returns the author for the block\n     */\n    get author() {\n      return __classPrivateFieldGet(this, _Implementation_author, \"f\");\n    }\n    /**\n     * @description Convenience method, returns the events associated with the block\n     */\n    get events() {\n      return __classPrivateFieldGet(this, _Implementation_events, \"f\");\n    }\n    /**\n     * @description Returns the extrinsics and their events, mapped\n     */\n    get extrinsics() {\n      return __classPrivateFieldGet(this, _Implementation_extrinsics, \"f\");\n    }\n  }\n  _Implementation_author = new WeakMap(), _Implementation_events = new WeakMap(), _Implementation_extrinsics = new WeakMap();\n  return new Implementation(registry, block, events, validators, author);\n}","map":{"version":3,"names":["__classPrivateFieldGet","__classPrivateFieldSet","extractAuthor","mapExtrinsics","extrinsics","records","map","extrinsic","index","dispatchError","dispatchInfo","events","filter","_ref","phase","isApplyExtrinsic","asApplyExtrinsic","eq","_ref2","event","section","method","data","createSignedBlockExtended","registry","block","validators","author","_Implementation_author","_Implementation_events","_Implementation_extrinsics","SignedBlockBase","createClass","Implementation","constructor","set","header","digest","createdAtHash","WeakMap"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/api-derive/type/SignedBlockExtended.js"],"sourcesContent":["import { __classPrivateFieldGet, __classPrivateFieldSet } from \"tslib\";\nimport { extractAuthor } from './util.js';\nfunction mapExtrinsics(extrinsics, records) {\n    return extrinsics.map((extrinsic, index) => {\n        let dispatchError;\n        let dispatchInfo;\n        const events = records\n            .filter(({ phase }) => phase.isApplyExtrinsic && phase.asApplyExtrinsic.eq(index))\n            .map(({ event }) => {\n            if (event.section === 'system') {\n                if (event.method === 'ExtrinsicSuccess') {\n                    dispatchInfo = event.data[0];\n                }\n                else if (event.method === 'ExtrinsicFailed') {\n                    dispatchError = event.data[0];\n                    dispatchInfo = event.data[1];\n                }\n            }\n            return event;\n        });\n        return { dispatchError, dispatchInfo, events, extrinsic };\n    });\n}\nexport function createSignedBlockExtended(registry, block, events, validators, author) {\n    var _Implementation_author, _Implementation_events, _Implementation_extrinsics;\n    // an instance of the base extrinsic for us to extend\n    const SignedBlockBase = registry.createClass('SignedBlock');\n    class Implementation extends SignedBlockBase {\n        constructor(registry, block, events, validators, author) {\n            super(registry, block);\n            _Implementation_author.set(this, void 0);\n            _Implementation_events.set(this, void 0);\n            _Implementation_extrinsics.set(this, void 0);\n            __classPrivateFieldSet(this, _Implementation_author, author || extractAuthor(this.block.header.digest, validators || []), \"f\");\n            __classPrivateFieldSet(this, _Implementation_events, events || [], \"f\");\n            __classPrivateFieldSet(this, _Implementation_extrinsics, mapExtrinsics(this.block.extrinsics, __classPrivateFieldGet(this, _Implementation_events, \"f\")), \"f\");\n            this.createdAtHash = block?.createdAtHash;\n        }\n        /**\n         * @description Convenience method, returns the author for the block\n         */\n        get author() {\n            return __classPrivateFieldGet(this, _Implementation_author, \"f\");\n        }\n        /**\n         * @description Convenience method, returns the events associated with the block\n         */\n        get events() {\n            return __classPrivateFieldGet(this, _Implementation_events, \"f\");\n        }\n        /**\n         * @description Returns the extrinsics and their events, mapped\n         */\n        get extrinsics() {\n            return __classPrivateFieldGet(this, _Implementation_extrinsics, \"f\");\n        }\n    }\n    _Implementation_author = new WeakMap(), _Implementation_events = new WeakMap(), _Implementation_extrinsics = new WeakMap();\n    return new Implementation(registry, block, events, validators, author);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}