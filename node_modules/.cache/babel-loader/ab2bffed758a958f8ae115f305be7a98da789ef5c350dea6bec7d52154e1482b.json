{"ast":null,"code":"import { stringToU8a } from '@polkadot/util';\nimport { bip39ToMiniSecret, isReady } from '@polkadot/wasm-crypto';\nimport { pbkdf2Encode } from '../pbkdf2/index.js';\nimport { mnemonicToEntropy } from './toEntropy.js';\nimport { mnemonicValidate } from './validate.js';\nexport function mnemonicToMiniSecret(mnemonic) {\n  let password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let onlyJs = arguments.length > 2 ? arguments[2] : undefined;\n  if (!mnemonicValidate(mnemonic)) {\n    throw new Error('Invalid bip39 mnemonic specified');\n  }\n  if (!onlyJs && isReady()) {\n    return bip39ToMiniSecret(mnemonic, password);\n  }\n  const entropy = mnemonicToEntropy(mnemonic);\n  const salt = stringToU8a(`mnemonic${password}`);\n  // return the first 32 bytes as the seed\n  return pbkdf2Encode(entropy, salt).password.slice(0, 32);\n}","map":{"version":3,"names":["stringToU8a","bip39ToMiniSecret","isReady","pbkdf2Encode","mnemonicToEntropy","mnemonicValidate","mnemonicToMiniSecret","mnemonic","password","arguments","length","undefined","onlyJs","Error","entropy","salt","slice"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/util-crypto/mnemonic/toMiniSecret.js"],"sourcesContent":["import { stringToU8a } from '@polkadot/util';\nimport { bip39ToMiniSecret, isReady } from '@polkadot/wasm-crypto';\nimport { pbkdf2Encode } from '../pbkdf2/index.js';\nimport { mnemonicToEntropy } from './toEntropy.js';\nimport { mnemonicValidate } from './validate.js';\nexport function mnemonicToMiniSecret(mnemonic, password = '', onlyJs) {\n    if (!mnemonicValidate(mnemonic)) {\n        throw new Error('Invalid bip39 mnemonic specified');\n    }\n    if (!onlyJs && isReady()) {\n        return bip39ToMiniSecret(mnemonic, password);\n    }\n    const entropy = mnemonicToEntropy(mnemonic);\n    const salt = stringToU8a(`mnemonic${password}`);\n    // return the first 32 bytes as the seed\n    return pbkdf2Encode(entropy, salt).password.slice(0, 32);\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,iBAAiB,EAAEC,OAAO,QAAQ,uBAAuB;AAClE,SAASC,YAAY,QAAQ,oBAAoB;AACjD,SAASC,iBAAiB,QAAQ,gBAAgB;AAClD,SAASC,gBAAgB,QAAQ,eAAe;AAChD,OAAO,SAASC,oBAAoBA,CAACC,QAAQ,EAAyB;EAAA,IAAvBC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAChE,IAAI,CAACN,gBAAgB,CAACE,QAAQ,CAAC,EAAE;IAC7B,MAAM,IAAIM,KAAK,CAAC,kCAAkC,CAAC;EACvD;EACA,IAAI,CAACD,MAAM,IAAIV,OAAO,EAAE,EAAE;IACtB,OAAOD,iBAAiB,CAACM,QAAQ,EAAEC,QAAQ,CAAC;EAChD;EACA,MAAMM,OAAO,GAAGV,iBAAiB,CAACG,QAAQ,CAAC;EAC3C,MAAMQ,IAAI,GAAGf,WAAW,CAAE,WAAUQ,QAAS,EAAC,CAAC;EAC/C;EACA,OAAOL,YAAY,CAACW,OAAO,EAAEC,IAAI,CAAC,CAACP,QAAQ,CAACQ,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;AAC5D"},"metadata":{},"sourceType":"module","externalDependencies":[]}