{"ast":null,"code":"import { combineLatest, map } from 'rxjs';\nimport { memo } from '../util/index.js';\n/**\n * @name bestNumberLag\n * @returns A number of blocks\n * @description Calculates the lag between finalized head and best head\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.chain.bestNumberLag((lag) => {\n *   console.log(`finalized is ${lag} blocks behind head`);\n * });\n * ```\n */\nexport function bestNumberLag(instanceId, api) {\n  return memo(instanceId, () => combineLatest([api.derive.chain.bestNumber(), api.derive.chain.bestNumberFinalized()]).pipe(map(_ref => {\n    let [bestNumber, bestNumberFinalized] = _ref;\n    return api.registry.createType('BlockNumber', bestNumber.sub(bestNumberFinalized));\n  })));\n}","map":{"version":3,"names":["combineLatest","map","memo","bestNumberLag","instanceId","api","derive","chain","bestNumber","bestNumberFinalized","pipe","_ref","registry","createType","sub"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/api-derive/chain/bestNumberLag.js"],"sourcesContent":["import { combineLatest, map } from 'rxjs';\nimport { memo } from '../util/index.js';\n/**\n * @name bestNumberLag\n * @returns A number of blocks\n * @description Calculates the lag between finalized head and best head\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.chain.bestNumberLag((lag) => {\n *   console.log(`finalized is ${lag} blocks behind head`);\n * });\n * ```\n */\nexport function bestNumberLag(instanceId, api) {\n    return memo(instanceId, () => combineLatest([\n        api.derive.chain.bestNumber(),\n        api.derive.chain.bestNumberFinalized()\n    ]).pipe(map(([bestNumber, bestNumberFinalized]) => api.registry.createType('BlockNumber', bestNumber.sub(bestNumberFinalized)))));\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,QAAQ,MAAM;AACzC,SAASC,IAAI,QAAQ,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,aAAaA,CAACC,UAAU,EAAEC,GAAG,EAAE;EAC3C,OAAOH,IAAI,CAACE,UAAU,EAAE,MAAMJ,aAAa,CAAC,CACxCK,GAAG,CAACC,MAAM,CAACC,KAAK,CAACC,UAAU,EAAE,EAC7BH,GAAG,CAACC,MAAM,CAACC,KAAK,CAACE,mBAAmB,EAAE,CACzC,CAAC,CAACC,IAAI,CAACT,GAAG,CAACU,IAAA;IAAA,IAAC,CAACH,UAAU,EAAEC,mBAAmB,CAAC,GAAAE,IAAA;IAAA,OAAKN,GAAG,CAACO,QAAQ,CAACC,UAAU,CAAC,aAAa,EAAEL,UAAU,CAACM,GAAG,CAACL,mBAAmB,CAAC,CAAC;EAAA,EAAC,CAAC,CAAC;AACrI"},"metadata":{},"sourceType":"module","externalDependencies":[]}