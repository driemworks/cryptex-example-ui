{"ast":null,"code":"import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n  const cacheKey = `${CACHE_KEY}-${era.toString()}`;\n  return [cacheKey, withActive ? undefined : deriveCache.get(cacheKey)];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n  const cached = withActive ? [] : eras.map(e => deriveCache.get(`${CACHE_KEY}-${e.toString()}`)).filter(v => !!v);\n  return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n  !withActive && deriveCache.set(cacheKey, value);\n  return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n  !withActive && values.forEach(v => deriveCache.set(`${CACHE_KEY}-${v.era.toString()}`, v));\n  return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n  return eras.map(e => cached.find(_ref => {\n    let {\n      era\n    } = _ref;\n    return e.eq(era);\n  }) || query.find(_ref2 => {\n    let {\n      era\n    } = _ref2;\n    return e.eq(era);\n  }));\n}","map":{"version":3,"names":["deriveCache","getEraCache","CACHE_KEY","era","withActive","cacheKey","toString","undefined","get","getEraMultiCache","eras","cached","map","e","filter","v","setEraCache","value","set","setEraMultiCache","values","forEach","filterCachedEras","query","find","_ref","eq","_ref2"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/api-derive/staking/cache.js"],"sourcesContent":["import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n    const cacheKey = `${CACHE_KEY}-${era.toString()}`;\n    return [\n        cacheKey,\n        withActive\n            ? undefined\n            : deriveCache.get(cacheKey)\n    ];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n    const cached = withActive\n        ? []\n        : eras\n            .map((e) => deriveCache.get(`${CACHE_KEY}-${e.toString()}`))\n            .filter((v) => !!v);\n    return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n    !withActive && deriveCache.set(cacheKey, value);\n    return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n    !withActive && values.forEach((v) => deriveCache.set(`${CACHE_KEY}-${v.era.toString()}`, v));\n    return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n    return eras.map((e) => cached.find(({ era }) => e.eq(era)) ||\n        query.find(({ era }) => e.eq(era)));\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,SAASC,WAAWA,CAACC,SAAS,EAAEC,GAAG,EAAEC,UAAU,EAAE;EACpD,MAAMC,QAAQ,GAAI,GAAEH,SAAU,IAAGC,GAAG,CAACG,QAAQ,EAAG,EAAC;EACjD,OAAO,CACHD,QAAQ,EACRD,UAAU,GACJG,SAAS,GACTP,WAAW,CAACQ,GAAG,CAACH,QAAQ,CAAC,CAClC;AACL;AACA,OAAO,SAASI,gBAAgBA,CAACP,SAAS,EAAEQ,IAAI,EAAEN,UAAU,EAAE;EAC1D,MAAMO,MAAM,GAAGP,UAAU,GACnB,EAAE,GACFM,IAAI,CACDE,GAAG,CAAEC,CAAC,IAAKb,WAAW,CAACQ,GAAG,CAAE,GAAEN,SAAU,IAAGW,CAAC,CAACP,QAAQ,EAAG,EAAC,CAAC,CAAC,CAC3DQ,MAAM,CAAEC,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC;EAC3B,OAAOJ,MAAM;AACjB;AACA,OAAO,SAASK,WAAWA,CAACX,QAAQ,EAAED,UAAU,EAAEa,KAAK,EAAE;EACrD,CAACb,UAAU,IAAIJ,WAAW,CAACkB,GAAG,CAACb,QAAQ,EAAEY,KAAK,CAAC;EAC/C,OAAOA,KAAK;AAChB;AACA,OAAO,SAASE,gBAAgBA,CAACjB,SAAS,EAAEE,UAAU,EAAEgB,MAAM,EAAE;EAC5D,CAAChB,UAAU,IAAIgB,MAAM,CAACC,OAAO,CAAEN,CAAC,IAAKf,WAAW,CAACkB,GAAG,CAAE,GAAEhB,SAAU,IAAGa,CAAC,CAACZ,GAAG,CAACG,QAAQ,EAAG,EAAC,EAAES,CAAC,CAAC,CAAC;EAC5F,OAAOK,MAAM;AACjB;AACA,OAAO,SAASE,gBAAgBA,CAACZ,IAAI,EAAEC,MAAM,EAAEY,KAAK,EAAE;EAClD,OAAOb,IAAI,CAACE,GAAG,CAAEC,CAAC,IAAKF,MAAM,CAACa,IAAI,CAACC,IAAA;IAAA,IAAC;MAAEtB;IAAI,CAAC,GAAAsB,IAAA;IAAA,OAAKZ,CAAC,CAACa,EAAE,CAACvB,GAAG,CAAC;EAAA,EAAC,IACtDoB,KAAK,CAACC,IAAI,CAACG,KAAA;IAAA,IAAC;MAAExB;IAAI,CAAC,GAAAwB,KAAA;IAAA,OAAKd,CAAC,CAACa,EAAE,CAACvB,GAAG,CAAC;EAAA,EAAC,CAAC;AAC3C"},"metadata":{},"sourceType":"module","externalDependencies":[]}