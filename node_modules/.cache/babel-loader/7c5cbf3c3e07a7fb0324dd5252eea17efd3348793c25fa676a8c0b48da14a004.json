{"ast":null,"code":"import { xglobal } from '@polkadot/x-global';\nimport { isFunction } from './is/function.js';\nconst DEDUPE = 'Either remove and explicitly install matching versions or dedupe using your package manager.\\nThe following conflicting packages were found:';\n/** @internal */\nfunction getEntry(name) {\n  const _global = xglobal;\n  if (!_global.__polkadotjs) {\n    _global.__polkadotjs = {};\n  }\n  if (!_global.__polkadotjs[name]) {\n    _global.__polkadotjs[name] = [];\n  }\n  return _global.__polkadotjs[name];\n}\n/** @internal */\nfunction formatDisplay(all, fmt) {\n  let max = 0;\n  for (let i = 0; i < all.length; i++) {\n    max = Math.max(max, all[i].version.length);\n  }\n  return all.map(d => `\\t${fmt(d.version.padEnd(max), d).join('\\t')}`).join('\\n');\n}\n/** @internal */\nfunction formatInfo(version, _ref) {\n  let {\n    name\n  } = _ref;\n  return [version, name];\n}\n/** @internal */\nfunction formatVersion(version, _ref2) {\n  let {\n    path,\n    type\n  } = _ref2;\n  let extracted;\n  if (path && path.length >= 5) {\n    const nmIndex = path.indexOf('node_modules');\n    extracted = nmIndex === -1 ? path : path.substring(nmIndex);\n  } else {\n    extracted = '<unknown>';\n  }\n  return [`${`${type || ''}`.padStart(3)} ${version}`, extracted];\n}\n/** @internal */\nfunction getPath(infoPath, pathOrFn) {\n  if (infoPath) {\n    return infoPath;\n  } else if (isFunction(pathOrFn)) {\n    try {\n      return pathOrFn() || '';\n    } catch {\n      return '';\n    }\n  }\n  return pathOrFn || '';\n}\n/** @internal */\nfunction warn(pre, all, fmt) {\n  console.warn(`${pre}\\n${DEDUPE}\\n${formatDisplay(all, fmt)}`);\n}\n/**\n * @name detectPackage\n * @summary Checks that a specific package is only imported once\n * @description A `@polkadot/*` version detection utility, checking for one occurence of a package in addition to checking for ddependency versions.\n */\nexport function detectPackage(_ref3, pathOrFn) {\n  let {\n    name,\n    path,\n    type,\n    version\n  } = _ref3;\n  let deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  if (!name.startsWith('@polkadot')) {\n    throw new Error(`Invalid package descriptor ${name}`);\n  }\n  const entry = getEntry(name);\n  entry.push({\n    path: getPath(path, pathOrFn),\n    type,\n    version\n  });\n  if (entry.length !== 1) {\n    warn(`${name} has multiple versions, ensure that there is only one installed.`, entry, formatVersion);\n  } else {\n    const mismatches = deps.filter(d => d && d.version !== version);\n    if (mismatches.length) {\n      warn(`${name} requires direct dependencies exactly matching version ${version}.`, mismatches, formatInfo);\n    }\n  }\n}","map":{"version":3,"names":["xglobal","isFunction","DEDUPE","getEntry","name","_global","__polkadotjs","formatDisplay","all","fmt","max","i","length","Math","version","map","d","padEnd","join","formatInfo","_ref","formatVersion","_ref2","path","type","extracted","nmIndex","indexOf","substring","padStart","getPath","infoPath","pathOrFn","warn","pre","console","detectPackage","_ref3","deps","arguments","undefined","startsWith","Error","entry","push","mismatches","filter"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/util/versionDetect.js"],"sourcesContent":["import { xglobal } from '@polkadot/x-global';\nimport { isFunction } from './is/function.js';\nconst DEDUPE = 'Either remove and explicitly install matching versions or dedupe using your package manager.\\nThe following conflicting packages were found:';\n/** @internal */\nfunction getEntry(name) {\n    const _global = xglobal;\n    if (!_global.__polkadotjs) {\n        _global.__polkadotjs = {};\n    }\n    if (!_global.__polkadotjs[name]) {\n        _global.__polkadotjs[name] = [];\n    }\n    return _global.__polkadotjs[name];\n}\n/** @internal */\nfunction formatDisplay(all, fmt) {\n    let max = 0;\n    for (let i = 0; i < all.length; i++) {\n        max = Math.max(max, all[i].version.length);\n    }\n    return all\n        .map((d) => `\\t${fmt(d.version.padEnd(max), d).join('\\t')}`)\n        .join('\\n');\n}\n/** @internal */\nfunction formatInfo(version, { name }) {\n    return [\n        version,\n        name\n    ];\n}\n/** @internal */\nfunction formatVersion(version, { path, type }) {\n    let extracted;\n    if (path && path.length >= 5) {\n        const nmIndex = path.indexOf('node_modules');\n        extracted = nmIndex === -1\n            ? path\n            : path.substring(nmIndex);\n    }\n    else {\n        extracted = '<unknown>';\n    }\n    return [\n        `${`${type || ''}`.padStart(3)} ${version}`,\n        extracted\n    ];\n}\n/** @internal */\nfunction getPath(infoPath, pathOrFn) {\n    if (infoPath) {\n        return infoPath;\n    }\n    else if (isFunction(pathOrFn)) {\n        try {\n            return pathOrFn() || '';\n        }\n        catch {\n            return '';\n        }\n    }\n    return pathOrFn || '';\n}\n/** @internal */\nfunction warn(pre, all, fmt) {\n    console.warn(`${pre}\\n${DEDUPE}\\n${formatDisplay(all, fmt)}`);\n}\n/**\n * @name detectPackage\n * @summary Checks that a specific package is only imported once\n * @description A `@polkadot/*` version detection utility, checking for one occurence of a package in addition to checking for ddependency versions.\n */\nexport function detectPackage({ name, path, type, version }, pathOrFn, deps = []) {\n    if (!name.startsWith('@polkadot')) {\n        throw new Error(`Invalid package descriptor ${name}`);\n    }\n    const entry = getEntry(name);\n    entry.push({ path: getPath(path, pathOrFn), type, version });\n    if (entry.length !== 1) {\n        warn(`${name} has multiple versions, ensure that there is only one installed.`, entry, formatVersion);\n    }\n    else {\n        const mismatches = deps.filter((d) => d && d.version !== version);\n        if (mismatches.length) {\n            warn(`${name} requires direct dependencies exactly matching version ${version}.`, mismatches, formatInfo);\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,MAAMC,MAAM,GAAG,8IAA8I;AAC7J;AACA,SAASC,QAAQA,CAACC,IAAI,EAAE;EACpB,MAAMC,OAAO,GAAGL,OAAO;EACvB,IAAI,CAACK,OAAO,CAACC,YAAY,EAAE;IACvBD,OAAO,CAACC,YAAY,GAAG,CAAC,CAAC;EAC7B;EACA,IAAI,CAACD,OAAO,CAACC,YAAY,CAACF,IAAI,CAAC,EAAE;IAC7BC,OAAO,CAACC,YAAY,CAACF,IAAI,CAAC,GAAG,EAAE;EACnC;EACA,OAAOC,OAAO,CAACC,YAAY,CAACF,IAAI,CAAC;AACrC;AACA;AACA,SAASG,aAAaA,CAACC,GAAG,EAAEC,GAAG,EAAE;EAC7B,IAAIC,GAAG,GAAG,CAAC;EACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,GAAG,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IACjCD,GAAG,GAAGG,IAAI,CAACH,GAAG,CAACA,GAAG,EAAEF,GAAG,CAACG,CAAC,CAAC,CAACG,OAAO,CAACF,MAAM,CAAC;EAC9C;EACA,OAAOJ,GAAG,CACLO,GAAG,CAAEC,CAAC,IAAM,KAAIP,GAAG,CAACO,CAAC,CAACF,OAAO,CAACG,MAAM,CAACP,GAAG,CAAC,EAAEM,CAAC,CAAC,CAACE,IAAI,CAAC,IAAI,CAAE,EAAC,CAAC,CAC3DA,IAAI,CAAC,IAAI,CAAC;AACnB;AACA;AACA,SAASC,UAAUA,CAACL,OAAO,EAAAM,IAAA,EAAY;EAAA,IAAV;IAAEhB;EAAK,CAAC,GAAAgB,IAAA;EACjC,OAAO,CACHN,OAAO,EACPV,IAAI,CACP;AACL;AACA;AACA,SAASiB,aAAaA,CAACP,OAAO,EAAAQ,KAAA,EAAkB;EAAA,IAAhB;IAAEC,IAAI;IAAEC;EAAK,CAAC,GAAAF,KAAA;EAC1C,IAAIG,SAAS;EACb,IAAIF,IAAI,IAAIA,IAAI,CAACX,MAAM,IAAI,CAAC,EAAE;IAC1B,MAAMc,OAAO,GAAGH,IAAI,CAACI,OAAO,CAAC,cAAc,CAAC;IAC5CF,SAAS,GAAGC,OAAO,KAAK,CAAC,CAAC,GACpBH,IAAI,GACJA,IAAI,CAACK,SAAS,CAACF,OAAO,CAAC;EACjC,CAAC,MACI;IACDD,SAAS,GAAG,WAAW;EAC3B;EACA,OAAO,CACF,GAAG,GAAED,IAAI,IAAI,EAAG,EAAC,CAACK,QAAQ,CAAC,CAAC,CAAE,IAAGf,OAAQ,EAAC,EAC3CW,SAAS,CACZ;AACL;AACA;AACA,SAASK,OAAOA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EACjC,IAAID,QAAQ,EAAE;IACV,OAAOA,QAAQ;EACnB,CAAC,MACI,IAAI9B,UAAU,CAAC+B,QAAQ,CAAC,EAAE;IAC3B,IAAI;MACA,OAAOA,QAAQ,EAAE,IAAI,EAAE;IAC3B,CAAC,CACD,MAAM;MACF,OAAO,EAAE;IACb;EACJ;EACA,OAAOA,QAAQ,IAAI,EAAE;AACzB;AACA;AACA,SAASC,IAAIA,CAACC,GAAG,EAAE1B,GAAG,EAAEC,GAAG,EAAE;EACzB0B,OAAO,CAACF,IAAI,CAAE,GAAEC,GAAI,KAAIhC,MAAO,KAAIK,aAAa,CAACC,GAAG,EAAEC,GAAG,CAAE,EAAC,CAAC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAAS2B,aAAaA,CAAAC,KAAA,EAAgCL,QAAQ,EAAa;EAAA,IAApD;IAAE5B,IAAI;IAAEmB,IAAI;IAAEC,IAAI;IAAEV;EAAQ,CAAC,GAAAuB,KAAA;EAAA,IAAYC,IAAI,GAAAC,SAAA,CAAA3B,MAAA,QAAA2B,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC5E,IAAI,CAACnC,IAAI,CAACqC,UAAU,CAAC,WAAW,CAAC,EAAE;IAC/B,MAAM,IAAIC,KAAK,CAAE,8BAA6BtC,IAAK,EAAC,CAAC;EACzD;EACA,MAAMuC,KAAK,GAAGxC,QAAQ,CAACC,IAAI,CAAC;EAC5BuC,KAAK,CAACC,IAAI,CAAC;IAAErB,IAAI,EAAEO,OAAO,CAACP,IAAI,EAAES,QAAQ,CAAC;IAAER,IAAI;IAAEV;EAAQ,CAAC,CAAC;EAC5D,IAAI6B,KAAK,CAAC/B,MAAM,KAAK,CAAC,EAAE;IACpBqB,IAAI,CAAE,GAAE7B,IAAK,kEAAiE,EAAEuC,KAAK,EAAEtB,aAAa,CAAC;EACzG,CAAC,MACI;IACD,MAAMwB,UAAU,GAAGP,IAAI,CAACQ,MAAM,CAAE9B,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAACF,OAAO,KAAKA,OAAO,CAAC;IACjE,IAAI+B,UAAU,CAACjC,MAAM,EAAE;MACnBqB,IAAI,CAAE,GAAE7B,IAAK,0DAAyDU,OAAQ,GAAE,EAAE+B,UAAU,EAAE1B,UAAU,CAAC;IAC7G;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}