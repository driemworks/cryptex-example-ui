{"ast":null,"code":"export function extractContributed(paraId, events) {\n  const added = [];\n  const removed = [];\n  return events.filter(_ref => {\n    let {\n      event: {\n        data: [, eventParaId],\n        method,\n        section\n      }\n    } = _ref;\n    return section === 'crowdloan' && ['Contributed', 'Withdrew'].includes(method) && eventParaId.eq(paraId);\n  }).reduce((result, _ref2) => {\n    let {\n      event: {\n        data: [accountId],\n        method\n      }\n    } = _ref2;\n    if (method === 'Contributed') {\n      result.added.push(accountId.toHex());\n    } else {\n      result.removed.push(accountId.toHex());\n    }\n    return result;\n  }, {\n    added,\n    blockHash: events.createdAtHash?.toHex() || '-',\n    removed\n  });\n}","map":{"version":3,"names":["extractContributed","paraId","events","added","removed","filter","_ref","event","data","eventParaId","method","section","includes","eq","reduce","result","_ref2","accountId","push","toHex","blockHash","createdAtHash"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/api-derive/crowdloan/util.js"],"sourcesContent":["export function extractContributed(paraId, events) {\n    const added = [];\n    const removed = [];\n    return events\n        .filter(({ event: { data: [, eventParaId], method, section } }) => section === 'crowdloan' &&\n        ['Contributed', 'Withdrew'].includes(method) &&\n        eventParaId.eq(paraId))\n        .reduce((result, { event: { data: [accountId], method } }) => {\n        if (method === 'Contributed') {\n            result.added.push(accountId.toHex());\n        }\n        else {\n            result.removed.push(accountId.toHex());\n        }\n        return result;\n    }, { added, blockHash: events.createdAtHash?.toHex() || '-', removed });\n}\n"],"mappings":"AAAA,OAAO,SAASA,kBAAkBA,CAACC,MAAM,EAAEC,MAAM,EAAE;EAC/C,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,OAAO,GAAG,EAAE;EAClB,OAAOF,MAAM,CACRG,MAAM,CAACC,IAAA;IAAA,IAAC;MAAEC,KAAK,EAAE;QAAEC,IAAI,EAAE,GAAGC,WAAW,CAAC;QAAEC,MAAM;QAAEC;MAAQ;IAAE,CAAC,GAAAL,IAAA;IAAA,OAAKK,OAAO,KAAK,WAAW,IAC1F,CAAC,aAAa,EAAE,UAAU,CAAC,CAACC,QAAQ,CAACF,MAAM,CAAC,IAC5CD,WAAW,CAACI,EAAE,CAACZ,MAAM,CAAC;EAAA,EAAC,CACtBa,MAAM,CAAC,CAACC,MAAM,EAAAC,KAAA,KAA+C;IAAA,IAA7C;MAAET,KAAK,EAAE;QAAEC,IAAI,EAAE,CAACS,SAAS,CAAC;QAAEP;MAAO;IAAE,CAAC,GAAAM,KAAA;IACzD,IAAIN,MAAM,KAAK,aAAa,EAAE;MAC1BK,MAAM,CAACZ,KAAK,CAACe,IAAI,CAACD,SAAS,CAACE,KAAK,EAAE,CAAC;IACxC,CAAC,MACI;MACDJ,MAAM,CAACX,OAAO,CAACc,IAAI,CAACD,SAAS,CAACE,KAAK,EAAE,CAAC;IAC1C;IACA,OAAOJ,MAAM;EACjB,CAAC,EAAE;IAAEZ,KAAK;IAAEiB,SAAS,EAAElB,MAAM,CAACmB,aAAa,EAAEF,KAAK,EAAE,IAAI,GAAG;IAAEf;EAAQ,CAAC,CAAC;AAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}