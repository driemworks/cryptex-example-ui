{"ast":null,"code":"import { isCodec, isU8a, lazyMethod, stringCamelCase } from '@polkadot/util';\nimport { lazyVariants } from '../../../create/lazy.js';\nimport { variantToMeta } from '../errors/index.js';\nimport { objectNameToString } from '../util.js';\nexport function filterEventsSome(_ref) {\n  let {\n    events\n  } = _ref;\n  return events.isSome;\n}\n/** @internal */\nexport function decorateEvents(registry, _ref2, version) {\n  let {\n    lookup,\n    pallets\n  } = _ref2;\n  const result = {};\n  const filtered = pallets.filter(filterEventsSome);\n  for (let i = 0; i < filtered.length; i++) {\n    const {\n      events,\n      index,\n      name\n    } = filtered[i];\n    const sectionIndex = version >= 12 ? index.toNumber() : i;\n    lazyMethod(result, stringCamelCase(name), () => lazyVariants(lookup, events.unwrap(), objectNameToString, variant => ({\n      // We sprinkle in isCodec & isU8a to ensure we are dealing with the correct objects\n      is: eventRecord => isCodec(eventRecord) && isU8a(eventRecord.index) && sectionIndex === eventRecord.index[0] && variant.index.eq(eventRecord.index[1]),\n      meta: registry.createTypeUnsafe('EventMetadataLatest', [variantToMeta(lookup, variant)])\n    })));\n  }\n  return result;\n}","map":{"version":3,"names":["isCodec","isU8a","lazyMethod","stringCamelCase","lazyVariants","variantToMeta","objectNameToString","filterEventsSome","_ref","events","isSome","decorateEvents","registry","_ref2","version","lookup","pallets","result","filtered","filter","i","length","index","name","sectionIndex","toNumber","unwrap","variant","is","eventRecord","eq","meta","createTypeUnsafe"],"sources":["/home/driemworks/cryptex/ui/node_modules/@polkadot/types/metadata/decorate/events/index.js"],"sourcesContent":["import { isCodec, isU8a, lazyMethod, stringCamelCase } from '@polkadot/util';\nimport { lazyVariants } from '../../../create/lazy.js';\nimport { variantToMeta } from '../errors/index.js';\nimport { objectNameToString } from '../util.js';\nexport function filterEventsSome({ events }) {\n    return events.isSome;\n}\n/** @internal */\nexport function decorateEvents(registry, { lookup, pallets }, version) {\n    const result = {};\n    const filtered = pallets.filter(filterEventsSome);\n    for (let i = 0; i < filtered.length; i++) {\n        const { events, index, name } = filtered[i];\n        const sectionIndex = version >= 12 ? index.toNumber() : i;\n        lazyMethod(result, stringCamelCase(name), () => lazyVariants(lookup, events.unwrap(), objectNameToString, (variant) => ({\n            // We sprinkle in isCodec & isU8a to ensure we are dealing with the correct objects\n            is: (eventRecord) => isCodec(eventRecord) &&\n                isU8a(eventRecord.index) &&\n                sectionIndex === eventRecord.index[0] &&\n                variant.index.eq(eventRecord.index[1]),\n            meta: registry.createTypeUnsafe('EventMetadataLatest', [variantToMeta(lookup, variant)])\n        })));\n    }\n    return result;\n}\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,KAAK,EAAEC,UAAU,EAAEC,eAAe,QAAQ,gBAAgB;AAC5E,SAASC,YAAY,QAAQ,yBAAyB;AACtD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,kBAAkB,QAAQ,YAAY;AAC/C,OAAO,SAASC,gBAAgBA,CAAAC,IAAA,EAAa;EAAA,IAAZ;IAAEC;EAAO,CAAC,GAAAD,IAAA;EACvC,OAAOC,MAAM,CAACC,MAAM;AACxB;AACA;AACA,OAAO,SAASC,cAAcA,CAACC,QAAQ,EAAAC,KAAA,EAAuBC,OAAO,EAAE;EAAA,IAA9B;IAAEC,MAAM;IAAEC;EAAQ,CAAC,GAAAH,KAAA;EACxD,MAAMI,MAAM,GAAG,CAAC,CAAC;EACjB,MAAMC,QAAQ,GAAGF,OAAO,CAACG,MAAM,CAACZ,gBAAgB,CAAC;EACjD,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACtC,MAAM;MAAEX,MAAM;MAAEa,KAAK;MAAEC;IAAK,CAAC,GAAGL,QAAQ,CAACE,CAAC,CAAC;IAC3C,MAAMI,YAAY,GAAGV,OAAO,IAAI,EAAE,GAAGQ,KAAK,CAACG,QAAQ,EAAE,GAAGL,CAAC;IACzDlB,UAAU,CAACe,MAAM,EAAEd,eAAe,CAACoB,IAAI,CAAC,EAAE,MAAMnB,YAAY,CAACW,MAAM,EAAEN,MAAM,CAACiB,MAAM,EAAE,EAAEpB,kBAAkB,EAAGqB,OAAO,KAAM;MACpH;MACAC,EAAE,EAAGC,WAAW,IAAK7B,OAAO,CAAC6B,WAAW,CAAC,IACrC5B,KAAK,CAAC4B,WAAW,CAACP,KAAK,CAAC,IACxBE,YAAY,KAAKK,WAAW,CAACP,KAAK,CAAC,CAAC,CAAC,IACrCK,OAAO,CAACL,KAAK,CAACQ,EAAE,CAACD,WAAW,CAACP,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1CS,IAAI,EAAEnB,QAAQ,CAACoB,gBAAgB,CAAC,qBAAqB,EAAE,CAAC3B,aAAa,CAACU,MAAM,EAAEY,OAAO,CAAC,CAAC;IAC3F,CAAC,CAAC,CAAC,CAAC;EACR;EACA,OAAOV,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}